<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/nav_graph"
    app:startDestination="@id/loginFragment">

    <!-- Acción global: logout a login -->
    <action
        android:id="@+id/action_global_logout_to_login"
        app:destination="@id/loginFragment"
        app:popUpTo="@id/loginFragment"
        app:popUpToInclusive="true" />

    <fragment
        android:id="@+id/loginFragment"
        android:name="com.pascm.fintrack.ui.login.LoginFragment"
        android:label="Iniciar sesión">
        <action
            android:id="@+id/action_login_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_login_to_admin"
            app:destination="@id/adminDashboardFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_login_to_registro"
            app:destination="@id/registroFragment" />
    </fragment>

    <fragment
        android:id="@+id/registroFragment"
        android:name="com.pascm.fintrack.ui.login.RegistroFragment"
        android:label="Crear cuenta">
        <action
            android:id="@+id/action_registro_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/homeFragment"
        android:name="com.pascm.fintrack.ui.home.HomeFragment"
        android:label="Inicio">
        <action
            android:id="@+id/action_home_to_modo_viaje"
            app:destination="@id/modoViajeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_home_to_agregar_movimiento"
            app:destination="@id/agregarMovimientoFragment" />
        <action
            android:id="@+id/action_home_to_recordatorios"
            app:destination="@id/recordatoriosFragment" />
        <action
            android:id="@+id/action_home_to_reportes"
            app:destination="@id/reportesFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_home_to_debit_cards"
            app:destination="@id/debitCardsFragment" />
        <action
            android:id="@+id/action_home_to_credit_cards"
            app:destination="@id/creditCardsFragment" />
        <action
            android:id="@+id/action_home_to_lugares"
            app:destination="@id/lugaresFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_home_to_perfil"
            app:destination="@id/perfilFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <!-- Panel de Admin con menú reducido -->
    <fragment
        android:id="@+id/adminDashboardFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminDashboardFragment"
        android:label="Panel de Administración">
        <action
            android:id="@+id/action_adminDashboard_to_adminUsuarios"
            app:destination="@id/adminUsuariosFragment" />
        <action
            android:id="@+id/action_adminDashboard_to_adminConfig"
            app:destination="@id/adminConfigFragment" />
        <action
            android:id="@+id/action_adminDashboard_to_adminCatalogo"
            app:destination="@id/adminCatalogoFragment" />
        <action
            android:id="@+id/action_adminDashboard_to_adminSettings"
            app:destination="@id/adminSettingsFragment" />
        <action
            android:id="@+id/action_adminDashboard_to_adminMetricas"
            app:destination="@id/adminMetricasFragment" />
        <action
            android:id="@+id/action_adminDashboard_to_adminAccount"
            app:destination="@id/adminAccountFragment" />
    </fragment>

    <fragment
        android:id="@+id/adminUsuariosFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminUsuariosFragment"
        android:label="Gestión de usuarios" />

    <fragment
        android:id="@+id/adminConfigFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminConfigFragment"
        android:label="Configuración del producto" />

    <fragment
        android:id="@+id/adminCatalogoFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminCatalogoFragment"
        android:label="Catálogo" />

    <fragment
        android:id="@+id/adminSettingsFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminSettingsFragment"
        android:label="Ajustes" />

    <fragment
        android:id="@+id/adminMetricasFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminMetricasFragment"
        android:label="Métricas" />

    <fragment
        android:id="@+id/adminAccountFragment"
        android:name="com.pascm.fintrack.ui.admin.AdminAccountFragment"
        android:label="Cuenta de Administrador" />

    <fragment
        android:id="@+id/modoViajeFragment"
        android:name="com.pascm.fintrack.ui.viaje.ModoViajeFragment"
        android:label="Modo Viaje">
        <action
            android:id="@+id/action_modo_viaje_to_nuevo_viaje"
            app:destination="@id/nuevoViajeFragment" />
        <action
            android:id="@+id/action_modo_viaje_to_viaje_activo"
            app:destination="@id/viajeActivoFragment" />
        <action
            android:id="@+id/action_modo_viaje_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_modo_viaje_to_lugares"
            app:destination="@id/lugaresFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_modo_viaje_to_perfil"
            app:destination="@id/perfilFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <fragment
        android:id="@+id/nuevoViajeFragment"
        android:name="com.pascm.fintrack.ui.viaje.NuevoViajeFragment"
        android:label="Nuevo Viaje">
        <action
            android:id="@+id/action_nuevo_viaje_to_viaje_activo"
            app:destination="@id/viajeActivoFragment"
            app:popUpTo="@id/modoViajeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <fragment
        android:id="@+id/viajeActivoFragment"
        android:name="com.pascm.fintrack.ui.viaje.ViajeActivoFragment"
        android:label="Viaje Activo" />

    <fragment
        android:id="@+id/agregarMovimientoFragment"
        android:name="com.pascm.fintrack.ui.movimiento.AgregarMovimientoFragment"
        android:label="Nuevo movimiento">
        <action
            android:id="@+id/action_agregar_movimiento_to_transferencia"
            app:destination="@id/transferenciaFragment" />
    </fragment>

    <fragment
        android:id="@+id/transferenciaFragment"
        android:name="com.pascm.fintrack.ui.movimiento.TransferenciaFragment"
        android:label="Transferencia" />

    <fragment
        android:id="@+id/recordatoriosFragment"
        android:name="com.pascm.fintrack.ui.recordatorios.RecordatoriosFragment"
        android:label="Recordatorios de Pagos" />

    <fragment
        android:id="@+id/reportesFragment"
        android:name="com.pascm.fintrack.ui.reportes.ReportesFragment"
        android:label="Reportes">
        <action
            android:id="@+id/action_reportes_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_reportes_to_modo_viaje"
            app:destination="@id/modoViajeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_reportes_to_lugares"
            app:destination="@id/lugaresFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_reportes_to_perfil"
            app:destination="@id/perfilFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <fragment
        android:id="@+id/perfilFragment"
        android:name="com.pascm.fintrack.ui.perfil.PerfilFragment"
        android:label="Perfil">
        <action
            android:id="@+id/action_perfil_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_perfil_to_modo_viaje"
            app:destination="@id/modoViajeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_perfil_to_lugares"
            app:destination="@id/lugaresFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_perfil_to_reportes"
            app:destination="@id/reportesFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <fragment
        android:id="@+id/lugaresFragment"
        android:name="com.pascm.fintrack.ui.lugar.LugaresFragment"
        android:label="Lugares">
        <action
            android:id="@+id/action_lugares_to_agregar_lugar"
            app:destination="@id/agregarLugarFragment" />
        <action
            android:id="@+id/action_lugares_to_home"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_lugares_to_modo_viaje"
            app:destination="@id/modoViajeFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_lugares_to_reportes"
            app:destination="@id/reportesFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
        <action
            android:id="@+id/action_lugares_to_perfil"
            app:destination="@id/perfilFragment"
            app:popUpTo="@id/homeFragment"
            app:popUpToInclusive="false" />
    </fragment>

    <fragment
        android:id="@+id/agregarLugarFragment"
        android:name="com.pascm.fintrack.ui.lugar.AgregarLugarFragment"
        android:label="Agregar Lugar" />

    <fragment
        android:id="@+id/debitCardsFragment"
        android:name="com.pascm.fintrack.ui.cards.DebitCardsFragment"
        android:label="Tarjetas de Débito">
        <action
            android:id="@+id/action_debitCards_to_addDebitCard"
            app:destination="@id/addDebitCardFragment" />
    </fragment>

    <fragment
        android:id="@+id/creditCardsFragment"
        android:name="com.pascm.fintrack.ui.cards.CreditCardsFragment"
        android:label="Tarjetas de Crédito">
        <action
            android:id="@+id/action_creditCards_to_addCreditCard"
            app:destination="@id/addCreditCardFragment" />
    </fragment>

    <fragment
        android:id="@+id/addCreditCardFragment"
        android:name="com.pascm.fintrack.ui.cards.AddCreditCardFragment"
        android:label="Agregar Tarjeta de Crédito" />

    <fragment
        android:id="@+id/addDebitCardFragment"
        android:name="com.pascm.fintrack.ui.cards.AddDebitCardFragment"
        android:label="Agregar Tarjeta de Débito" />
</navigation>
